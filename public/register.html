<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 - 세카이 채팅</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="register-container">
        <div class="auth-card">
            <div class="auth-header">
                <h2>회원가입</h2>
                <p>계정을 생성하여 다중 캐릭터와 대화해보세요</p>
            </div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="username" class="form-label">아이디</label>
                    <input type="text" class="form-control" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">비밀번호</label>
                    <input type="password" class="form-control" id="password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="nickname" class="form-label">닉네임</label>
                    <input type="text" class="form-control" id="nickname" name="nickname" required>
                </div>
                <div class="form-group">
                    <label for="gemini_api_key" class="form-label">
                        개인 Gemini API 키
                        <i class="bi bi-info-circle-fill info-icon" data-bs-toggle="modal" data-bs-target="#apiKeyModal"></i>
                    </label>
                    <input type="password" class="form-control masked-input" id="gemini_api_key" name="gemini_api_key">
                </div>
                <div class="form-group">
                    <div class="cf-turnstile" data-sitekey="0x4AAAAAABkrf7cd8w3d1nxe"></div>
                </div>
                <button type="submit" class="btn btn-primary w-100">회원가입</button>
                <div class="text-center mt-3">
                    <a href="/login" class="btn btn-secondary w-100">로그인</a>
                </div>
            </form>
            <div id="errorMessage" class="error-message mt-3" style="display: none;"></div>
            <div id="successMessage" class="success-message mt-3" style="display: none;"></div>
        </div>
    </div>

    <!-- API Key Info Modal -->
    <div class="modal fade" id="apiKeyModal" tabindex="-1" aria-labelledby="apiKeyModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="apiKeyModalLabel">개인 Gemini API 키 안내</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>개인 Gemini API 미입력시 서버측 API 키를 공유해 사용합니다. 서버측 API 키는 동시 접속자 모두가 사용량을 공유하기에, 동시접속자가 많을 경우 이용이 원활하지 않을 수 있습니다.</p>
                    <p>개인 API키를 사용시 서버 전체가 공유하는 할당량과 별개의 할당량을 온전히 혼자서 사용할 수 있으며, Gemini-2.5-pro 모델을 사용 가능합니다. 개인 API키는 언제든 삭제할 수 있으며, 삭제 요청 또는 회원탈퇴시 즉시 삭제됩니다.</p>
                    <p>Gemini API 키는 <a href="https://aistudio.google.com" target="_blank">https://aistudio.google.com</a> 에서 개인 구글계정을 이용해 무료로 발급받을 수 있으며, 따로 결제 설정을 하지 않는다면 아무리 많이 사용을 시도해도 요금이 발생하지 않습니다.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <script src="/js/register.js"></script>
</body>
</html>
